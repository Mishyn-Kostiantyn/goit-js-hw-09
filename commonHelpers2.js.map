{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\nconst STORAGE_KEY = 'feedback-form-state';\nlet formData = {\n    email: '',\n    message:'',\n};\nconst formFeedback = document.querySelector('.js-feedback-form');\nformFeedback.addEventListener('input', onFormInput);\nformFeedback.addEventListener('submit', onFormSubmit);\nfillInFormsInputs()\nfunction onFormInput(evt) {\n    formData[evt.target.name] = evt.target.value.trim();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n   }\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    const userFeedback = evt.currentTarget.elements;\n    if (userFeedback.email.value.trim() !== '' && userFeedback.message.value.trim() !== '') {\n        evt.currentTarget.reset();\n        console.log(formData);\n        localStorage.removeItem(STORAGE_KEY);\n        formData = {\n    email: '',\n    message:'',\n};\n        } else { return alert('All form fields must be filled in') }\n   \n}\nfunction fillInFormsInputs() {\n    const localStorageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (localStorageData) {\n        const { email, message } = localStorageData;\n\n        formFeedback.elements.email.value = email;\n        formFeedback.elements.message.value = message;\n\n        formData.email = email;\n        formData.message = message;\n    } \n}"],"names":["STORAGE_KEY","formData","formFeedback","onFormInput","onFormSubmit","fillInFormsInputs","evt","userFeedback","localStorageData","email","message"],"mappings":"wFACA,MAAMA,EAAc,sBACpB,IAAIC,EAAW,CACX,MAAO,GACP,QAAQ,EACZ,EACA,MAAMC,EAAe,SAAS,cAAc,mBAAmB,EAC/DA,EAAa,iBAAiB,QAASC,CAAW,EAClDD,EAAa,iBAAiB,SAAUE,CAAY,EACpDC,EAAmB,EACnB,SAASF,EAAYG,EAAK,CACtBL,EAASK,EAAI,OAAO,MAAQA,EAAI,OAAO,MAAM,OAC7C,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC1D,CACJ,SAASG,EAAaE,EAAK,CACvBA,EAAI,eAAc,EAClB,MAAMC,EAAeD,EAAI,cAAc,SACvC,GAAIC,EAAa,MAAM,MAAM,KAAI,IAAO,IAAMA,EAAa,QAAQ,MAAM,KAAI,IAAO,GAChFD,EAAI,cAAc,QAClB,QAAQ,IAAIL,CAAQ,EACpB,aAAa,WAAWD,CAAW,EACnCC,EAAW,CACf,MAAO,GACP,QAAQ,EACZ,MACiB,QAAO,MAAM,mCAAmC,CAEjE,CACA,SAASI,GAAoB,CACzB,MAAMG,EAAmB,KAAK,MAAM,aAAa,QAAQR,CAAW,CAAC,EACrE,GAAIQ,EAAkB,CAClB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGF,EAE3BN,EAAa,SAAS,MAAM,MAAQO,EACpCP,EAAa,SAAS,QAAQ,MAAQQ,EAEtCT,EAAS,MAAQQ,EACjBR,EAAS,QAAUS,CACtB,CACL"}